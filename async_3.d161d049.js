(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{161:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var o,r=n(152),i=n(151),a=i.a.getComponent("Component"),s=i.a.getComponent("TimeTooltip"),p=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).options=n,o.timeToltip=new s(e),o.timeToltip.hide(),o.addChild(o.timeToltip),o.addClass("vjs-marker-point-tip"),o.timeToltip.el_.innerHTML='\n      <p class="vjs-marker-point-tip-time">'+i.a.formatTime(o.options.offset,600)+'</p>\n      <p class="vjs-marker-point-tip-content">'+(o.options.data?o.options.data.content:"")+"</p>\n    ",o}return Object(r.a)(e,t),e.prototype.updatePosition=function(){this.timeToltip.el_.style.left="-"+this.timeToltip.el_.getBoundingClientRect().width/2+"px"},e}(a),l=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).offset=n.offset,o.data=n.data,o.tip=new p(e,{data:o.data,offset:o.offset}),o.mouseDisplay=e.getDescendant(["ControlBar","ProgressControl","SeekBar","MouseTimeDisplay"]),o.addChild(o.tip),o.enableTouchActivity(),o.on("mouseenter",(function(t){o.mouseDisplay.hide(),o.tip.timeToltip.show(),o.tip.updatePosition()})),o.on("mouseleave",(function(t){o.mouseDisplay.show(),o.tip.timeToltip.hide()})),o.on("mousedown",(function(t){"function"==typeof n.onClick&&n.onClick(t)})),o}Object(r.a)(e,t);var n=e.prototype;return n.createEl=function(){return i.a.dom.createEl("div",{className:"vjs-marker-point"})},n.updatePosition=function(t){this.el_&&(this.el_.style.left=this.offset/t*100+"%")},e}(a),u=function(t){function e(e,n){var r;r=t.call(this,e,n)||this,n.markers.forEach((function(t){return r.addChild(t)}));var i=function(){n.markers.forEach((function(t){t.updatePosition(o)}))};return o?i():e.on("loadedmetadata",(function t(){o=e.duration(),i(),e.off("loadedmetadata",t)})),r}return Object(r.a)(e,t),e.build=function(t,n){n.markers instanceof Array||(n.markers=[]);for(var o=[],r=n.markers.length;r--;)o.push(new l(t,n.markers[r]));return new e(t,{markers:o,barName:"markerPoint"})},e.prototype.createEl=function(){return i.a.dom.createEl("div",{className:"vjs-marker-bar"})},e}(i.a.getComponent("Component"));i.a.registerComponent("MarkerBar",u);var d;window.videojs?(d=window.videojs,console.warn("MarkerPlugin: 检测到window.videojs")):d=i.a;var c=d.getPlugin("plugin"),m={},f=function(t){function e(e,n){var o;return(o=t.call(this,e)||this).player.addClass("vjs-marker-plugin"),o.updateOptions(n),o}Object(r.a)(e,t);var n=e.prototype;return n.createMarkerBar=function(){return this.markerBar=u.build(this.player,{markers:this.options.markers}),this.markerBar},n.updateOptions=function(t){this.options=d.mergeOptions(m,t),this.markerBar&&this.markerBar.dispose();var e=this.player.getDescendant(["ControlBar","ProgressControl","SeekBar"]);this.createMarkerBar(),e.addChild(this.markerBar)},e}(c);f.defaultState={},f.VERSION="0.0.8",d.registerPlugin("markerPlugin",f)}}]);